{% extends 'base.html' %} 
{% block content %}
<section class="text-center mb-4">
  <h1 class="h3 mb-1">Galeria de Fotos</h1>
  <p class="text-muted mb-0">Faça upload das suas melhores memórias.</p>
  <hr class="mt-4 mb-0"/>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% for category, message in messages %}
      <div class="alert alert-{{category}} mt-3 mb-0">{{message}}</div>
    {% endfor %}
  {% endwith %}
  
</section>

<section class="gallery-grid mb-5">
  {% for img in imagens %}
    <article class="gallery-card">
      <img src="/static/uploads/{{img.filename}}" alt="Foto enviada" class="gallery-image"/>
    </article>
  {% endfor %}
  {% if imagens|length == 0 %}
    <div class="text-muted text-center py-5">Nenhuma imagem ainda. Que tal enviar a primeira?</div>
  {% endif %}
</section>

<section class="row justify-content-center">
  <div class="col-12 col-md-8 col-lg-6">
    <div class="card shadow-sm">
      <div class="card-body">
        <form action="" method="POST" enctype="multipart/form-data" class="upload-form">
          <label for="file" class="form-label">Envie sua imagem</label>
          <input type="file" class="form-control" name="file" id="file" accept="image/*" required />
          <div class="d-grid mt-3">
            <button type="submit" class="btn btn-success">Enviar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  
</section>
{% endblock content %}
